<!DOCTYPE html>
<html class="" lang="es-US">
<head>
  <meta charset="utf-8">
  <title>Clase 4</title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
</head>
<body>
<div style="margin-top: 100px;"></div>
<div class="container">
  <div class="card shadow-lg mx-auto">
    <div class="card-body">
      <h1>Guess the number - The Game!!!</h1>
      <p>Guess the number between 0 and 100</p>
      <div class="input-group mb-3">
        <input type="number"
               class="form-control"
               id="iptNumber"
               placeholder="Enter a number between 0 and 100">
        <button class="btn btn-primary" id="btnGuess">Test your luck!</button>
        <button class="btn btn-secondary" id="btnReset">Reset Game</button>
      </div>
      <p id="results" class="fs-5 fw-semibold mt3"></p>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
<script>
  $(document).ready(function () {
    "use strict";

    /**
     * Definimos el número que la computadora va a crear
     * El número lo vamos a guardar en una variable
     *
     * Generamos un número aleatorio entre 0 y 1 0.000000000000001 y 0.9999999999999999
     */

    function generateRandomNumber() {
      let numeroRandom = Math.random();
      // console.log("Número aleatorio generado:", numeroRandom);

      // Multiplicamos por 100 para obtener un número entre 0 y 99
      let numeroDecimal = numeroRandom * 100;
      // console.log("Número decimal entre 0 y 100:", numeroDecimal);

      let numeroEnteroQueLaAppGenero = Math.floor(numeroDecimal);
      console.log("numeroEnteroQueLaAppGenero:", numeroEnteroQueLaAppGenero);

      return numeroEnteroQueLaAppGenero;
    }

    let numeroEnteroQueLaAppGenero = generateRandomNumber();


    // let numero = Math.floor(Math.random() * 100) + 1;
    // console.log('Mi nuevo numero entre 0 y 100 es: ', numero);

    /**
     * Ahora recibimos los datos del usuario
     * y comparamos con el número que la app generó
     *
     * Primero, validamos que lo que el usuario ingresó
     * sea un número entre 0 y 100
     */
    let iptGuess = $('#iptNumber');
    let btnGuess = $('#btnGuess');
    let btnReset = $('#btnReset');
    let results = $('#results');
    let counter = 0;
    let gotcha = false;

    /**
     * Voy a crear un evento, donde voy a manipular lo que necesito
     * cuando el usuario haga clic en el botón
     *
     */
    btnGuess.on('click', function () {
      counter++;
      // Recibimos el valor que el usuario puso
      let numeroQueElUsuarioIngreso = iptGuess.val();
      console.log("Número ingresado por el usuario:", numeroQueElUsuarioIngreso);

      /**
       * Si el número que ingresó el usuario es el número que genero el juego
       * Entonces, le decimos que ganó
       * Si no, le decimos que perdió
       *
       * Usamos === para comparar el valor ingresado por el usuario
       * el cual significa "estrictamente igual"
       * que en otras palabras es que su valor es el mismo y su tipo de dato es el mismo
       * Por ejemplo 4 y "4" son diferentes y, por lo tanto, es false.
       * porque el primero es un número y el segundo es un string
       *
       * Ahora, si usamos == significa que solo evaluamos si tienen el mismo valor
       * Por ejemplo 4 == "4" es verdadero
       * porque ambos tienen el mismo valor, pero son de tipos diferentes
       */
      if (numeroQueElUsuarioIngreso == numeroEnteroQueLaAppGenero) {
        gotcha = true;
        results.text('¡Felicidades! Adivinaste el número: ' + numeroEnteroQueLaAppGenero);
      }
      else if (numeroQueElUsuarioIngreso > numeroEnteroQueLaAppGenero) {
        results.text('El número ingresado es mayor al número generado por la app');
      }
      else if (numeroQueElUsuarioIngreso < numeroEnteroQueLaAppGenero) {
        results.text('El número ingresado es menor al número generado por la app');
      }
      else {
        results.text('Lo siento, el número ingresado no es el correcto. Intenta de nuevo.');
      }

      if (counter === 5 && gotcha === false) {
        // Si el usuario llega a 5 intentos y no adivina, le mostramos
        // el número que la app generó y deshabilitamos el botón
        results.text('Has alcanzado el límite de intentos. El número era: ' + numeroEnteroQueLaAppGenero);
        btnGuess.prop('disabled', true); // Deshabilita el botón después de 5 intentos
      }
    });

    /**
     * Reseteamos el juego
     * Cuando el usuario haga clic en el botón de reset
     */
    btnReset.on('click', function () {
      // Reiniciamos el contador
      counter = 0;
      // Generamos un nuevo número aleatorio
      numeroEnteroQueLaAppGenero = generateRandomNumber();
      // console.log("Nuevo número generado:", newNumber);
      btnGuess.prop('disabled', false); // Deshabilita el botón después de 5 intentos
      results.text('¡Juego reiniciado!');
      iptGuess.val(''); // Limpia el campo de entrada
    })

    /**
     * Tipos de Datos en JavaScript:
     * - String: Cadena de texto, por ejemplo: "Hola Mundo 890843563456 45263456734"
     *   En el caso delos strings, los reconozco porque están en comillas simples, dobles o backticks
     *   El texto arriba aunque tiene números, es un string, porque está entre comillas dobles
     *
     * - Number: Números, enteros o decimales, por ejemplo: 42 o 3.14
     *   En el caso de los números, no tienen comillas.
     *
     * - Boolean: Verdadero o falso, por ejemplo: true o false
     *   Un booleano solo puede ser true o false, no puede ser otra cosa.
     *   En el caso de los booleanos, no tienen comillas.
     *
     *   Para otra clase.
     * - Object: Colección de propiedades, por ejemplo: {nombre: "Juan", edad: 30}
     * - Array: Lista de elementos, por ejemplo: [1, 2, 3, 4, 5]
     * - Null: Representa la ausencia intencional de un valor, por ejemplo: null
     * - Undefined: Variable declarada pero no inicializada, por ejemplo: let x;
     */
    function defineIfElse() {
      let miNumero;
      let miString = "Hola Mundo 890843563456 45263456734";
      let miBooleanoTrue = true;
      let miBooleanoFalse = false;

      if (miNumero) {
        console.log('miNumero es verdadero');
      }
      else {
        console.log('miNumero es falso');
      }

      if (miString) {
        console.log('miString es verdadero');
      }
      else {
        console.log('miString es falso');
      }

      if (miBooleanoTrue) {
        console.log('miBooleanoTrue es verdadero');
      }
      else {
        console.log('miBooleanoTrue es falso');
      }

      if (miBooleanoFalse) {
        console.log('miBooleanoFalse es verdadero');
      }
      else {
        console.log('miBooleanoFalse es falso');
      }
    }
  });
</script>
</body>
</html>
